global:
  get_poi_style: |
    function(feature, section, poiExtraData) {
      const category = poiExtraData[section][feature.pds_category];
      const kindDetail = category && category[feature.kind_detail || 'default'];
      if (kindDetail) {
        let minPriority = Number.MAX_SAFE_INTEGER,
        booleanFlag;
        for (let key in feature) {
          if (key.indexOf('is_') === 0 || key.indexOf('has_') === 0) {
            const booleanFlagStyle = kindDetail[key];
            // In case a train station provides multiple transportation modes, assign the style of the one with
            // highest importance (lowest value of priority).
            if (booleanFlagStyle && booleanFlagStyle.priority < minPriority) {
              minPriority = booleanFlagStyle.priority;
              booleanFlag = key;
            }
          }
        }
        // Fallback to kindDetail['default'] (if defined) in case the corresponding style for booleanFlag is not defined.
        return kindDetail[booleanFlag || 'default'] || kindDetail['default'];
      }
    }
  poi_min_zoom_filter: |
    function() {
      const poi_extra_data = context.sources[$source].config.extra_data.poi;
      return $zoom >= global.get_poi_style(feature, 'default', poi_extra_data).min_zoom;
    }
  poi:
    default:
      visible: true
sources:
  omv:
    extra_data:
      poi:
        default:
          100-1000-0000:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 112
          100-1000-0001:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 113
          100-1000-0002:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 114
          100-1000-0003:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 115
          100-1000-0004:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 116
          100-1000-0005:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 117
          100-1000-0006:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 118
          100-1000-0007:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 119
          100-1000-0008:
            default:
              default:
                icon: poi--eatdrink_main
                min_zoom: 18
                priority: 120
          100-1000-0009:
            default:
              default:
                icon: poi--eatdrink_fastfood
                min_zoom: 18
                priority: 121
          100-1100-0000:
            default:
              default:
                icon: poi--eatdrink_coffee
                min_zoom: 18
                priority: 122
          100-1100-0010:
            default:
              default:
                icon: poi--eatdrink_coffee
                min_zoom: 18
                priority: 123
          100-1100-0331:
            default:
              default:
                icon: poi--eatdrink_coffee
                min_zoom: 18
                priority: 124
          200-2000-0000:
            default:
              default:
                icon: poi--goingout_nightclub
                min_zoom: 18
                priority: 125
          200-2000-0011:
            default:
              default:
                icon: poi--eatdrink_pub
                min_zoom: 18
                priority: 126
          200-2000-0012:
            default:
              default:
                icon: poi--goingout_nightclub
                min_zoom: 18
                priority: 127
          200-2000-0013:
            default:
              default:
                icon: poi--goingout_nightclub
                min_zoom: 18
                priority: 128
          200-2000-0014:
            default:
              default:
                icon: poi--goingout_karaoke
                min_zoom: 18
                priority: 129
          200-2000-0016:
            default:
              default:
                icon: poi--goingout_pool
                min_zoom: 18
                priority: 130
          200-2000-0017:
            default:
              default:
                icon: poi--goingout_arcadegame
                min_zoom: 18
                priority: 131
          200-2000-0306:
            default:
              default:
                icon: poi--goingout_nightclub
                min_zoom: 18
                priority: 132
          200-2000-0368:
            default:
              default:
                icon: poi--eatdrink_cocktail
                min_zoom: 18
                priority: 133
          200-2100-0019:
            default:
              default:
                icon: poi--goingout_cinema
                min_zoom: 16
                priority: 64
          200-2200-0000:
            default:
              default:
                icon: poi--goingout_main
                min_zoom: 18
                priority: 134
          200-2200-0020:
            default:
              default:
                icon: poi--goingout_main
                min_zoom: 18
                priority: 135
          200-2300-0000:
            default:
              default:
                icon: poi--goingout_casino
                min_zoom: 18
                priority: 136
          200-2300-0021:
            default:
              default:
                icon: poi--goingout_casino
                min_zoom: 18
                priority: 137
          200-2300-0022:
            default:
              default:
                icon: poi--service_ticketing
                min_zoom: 18
                priority: 138
          300-3000-0000:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 15
                priority: 24
          300-3000-0023:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 16
                priority: 38
          300-3000-0024:
            default:
              default:
                icon: poi--sights_gallery
                min_zoom: 18
                priority: 139
          300-3000-0025:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 16
                priority: 63
          300-3000-0351:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 17
                priority: 90
          300-3100-0000:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 17
                priority: 85
          300-3100-0026:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 17
                priority: 86
          300-3100-0027:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 17
                priority: 87
          300-3100-0028:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 17
                priority: 88
          300-3100-0029:
            default:
              default:
                icon: poi--sights_attraction
                min_zoom: 17
                priority: 89
          300-3200-0000:
            default:
              default:
                icon: poi--religious_main
                min_zoom: 19
                priority: 166
          300-3200-0030:
            default:
              default:
                icon: poi--religious_main
                min_zoom: 19
                priority: 167
          300-3200-0031:
            default:
              default:
                icon: poi--religious_main
                min_zoom: 19
                priority: 168
          300-3200-0032:
            default:
              default:
                icon: poi--religious_main
                min_zoom: 19
                priority: 169
          300-3200-0033:
            default:
              default:
                icon: poi--religious_main
                min_zoom: 19
                priority: 170
          300-3200-0034:
            default:
              default:
                icon: poi--religious_main
                min_zoom: 19
                priority: 171
          300-3200-0309:
            default:
              default:
                icon: poi--religious_main
                min_zoom: 19
                priority: 172
          300-3200-0375:
            default:
              default:
                icon: poi--religious_main
                min_zoom: 19
                priority: 173
          350-3500-0300:
            default:
              default:
                icon: poi--facilities_harbor
                min_zoom: 17
                priority: 79
          350-3510-0237:
            default:
              default:
                icon: poi--address
                min_zoom: 17
                priority: 91
          350-3510-0238:
            default:
              default:
                icon: poi--mountain
                min_zoom: 8
                priority: 25
          400-4000-4580:
            default:
              default:
                icon: poi--transport_airport
                min_zoom: 18
                priority: 140
          400-4000-4581:
            default:
              default:
                icon: poi--transport_airport
                min_zoom: 9
                priority: 1
          400-4000-4582:
            default:
              default:
                icon: poi--transport_airport
                min_zoom: 15
                priority: 19
          400-4100-0035:
            default:
              default:
                icon: poi--transport_train
                min_zoom: 14
                priority: 12
          400-4100-0036:
            default:
              default:
                icon: poi--transport_bus
                min_zoom: 16
                priority: 42
          400-4100-0037:
            default:
              default:
                icon: poi--transport_rail_citymetro
                min_zoom: 16
                priority: 45
          400-4100-0038:
            default:
              default:
                icon: poi--transport_rail_regional
                min_zoom: 16
                priority: 48
          400-4100-0039:
            default:
              default:
                icon: poi--transport_rail_regional
                min_zoom: 16
                priority: 49
          400-4100-0042:
            default:
              default:
                icon: poi--transport_bus
                min_zoom: 16
                priority: 50
          400-4100-0044:
            default:
              default:
                icon: poi--transport_ferry
                min_zoom: 17
                priority: 76
          400-4100-0045:
            default:
              default:
                icon: poi--transport_ferry
                min_zoom: 16
                priority: 51
          400-4100-0046:
            default:
              default:
                icon: poi--transport_ferry
                min_zoom: 16
                priority: 52
          400-4100-0047:
            default:
              default:
                icon: poi--transport_taxi
                min_zoom: 17
                priority: 93
          400-4100-0326:
            default:
              default:
                icon: poi--toll_booth
                min_zoom: 16
                priority: 61
          400-4100-0337:
            default:
              default:
                icon: poi--transport_rail_light
                min_zoom: 16
                priority: 54
          400-4100-0339:
            default:
              default:
                icon: poi--transport_monorail
                min_zoom: 16
                priority: 56
          400-4100-0340:
            default:
              default:
                icon: poi--transport_aerial
                min_zoom: 16
                priority: 58
          400-4100-0342:
            default:
              default:
                icon: poi--transport_inclined
                min_zoom: 16
                priority: 60
          400-4300-0000:
            default:
              default:
                icon: poi--leisure_picnicarea
                min_zoom: 11
                priority: 2
          400-4300-0199:
            default:
              default:
                icon: poi--leisure_picnicarea
                min_zoom: 11
                priority: 3
          400-4300-0200:
            default:
              default:
                icon: poi--leisure_picnicarea
                min_zoom: 11
                priority: 4
          400-4300-0201:
            default:
              default:
                icon: poi--leisure_picnicarea
                min_zoom: 14
                priority: 16
          400-4300-0202:
            default:
              default:
                icon: poi--leisure_picnicarea
                min_zoom: 11
                priority: 5
          400-4300-0308:
            default:
              default:
                icon: poi--nature_overlook
                min_zoom: 15
                priority: 26
          500-5000-0000:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 94
          500-5000-0053:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 95
          500-5000-0054:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 96
          500-5100-0000:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 97
          500-5100-0055:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 98
          500-5100-0056:
            default:
              default:
                icon: poi--accommodation_camping
                min_zoom: 17
                priority: 80
          500-5100-0057:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 99
          500-5100-0058:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 100
          500-5100-0059:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 101
          500-5100-0060:
            default:
              default:
                icon: poi--accommodation_hotel
                min_zoom: 17
                priority: 102
          550-5510-0000:
            default:
              default:
                icon: poi--nature_main
                min_zoom: 17
                priority: 77
          550-5510-0202:
            default:
              default:
                icon: poi--nature_main
                min_zoom: 17
                priority: 78
          550-5510-0204:
            default:
              default:
                icon: poi--nature_main
                min_zoom: 17
                priority: 103
          550-5510-0205:
            default:
              default:
                icon: poi--leisure_main
                min_zoom: 16
                priority: 70
          550-5510-0242:
            default:
              default:
                icon: poi--nature_overlook
                min_zoom: 16
                priority: 65
          550-5510-0378:
            default:
              default:
                icon: poi--accommodation_camping
                min_zoom: 17
                priority: 81
          550-5520-0000:
            default:
              default:
                icon: poi--leisure_amusement
                min_zoom: 15
                priority: 31
          550-5520-0207:
            default:
              default:
                icon: poi--leisure_amusement
                min_zoom: 15
                priority: 35
          550-5520-0208:
            default:
              default:
                icon: poi--leisure_zoo
                min_zoom: 16
                priority: 68
          550-5520-0212:
            default:
              default:
                icon: poi--sport_ski_run
                min_zoom: 17
                priority: 84
          550-5520-0228:
            default:
              default:
                icon: poi--leisure_zoo
                min_zoom: 16
                priority: 69
          600-6100-0062:
            default:
              default:
                icon: poi--shopping_main
                min_zoom: 15
                priority: 23
          600-6300-0066:
            default:
              default:
                icon: poi--shopping_main
                min_zoom: 18
                priority: 141
          600-6400-0000:
            default:
              default:
                icon: poi--emergency_pharmacy
                min_zoom: 18
                priority: 142
          600-6400-0069:
            default:
              default:
                icon: poi--shopping_main
                min_zoom: 18
                priority: 143
          600-6400-0070:
            default:
              default:
                icon: poi--emergency_pharmacy
                min_zoom: 18
                priority: 144
          600-6700-0000:
            default:
              default:
                icon: poi--shopping_books
                min_zoom: 18
                priority: 145
          600-6700-0087:
            default:
              default:
                icon: poi--shopping_books
                min_zoom: 18
                priority: 146
          700-7000-0107:
            default:
              default:
                icon: poi--facilities_bank
                min_zoom: 18
                priority: 147
          700-7010-0108:
            default:
              default:
                icon: poi--business_atm
                min_zoom: 18
                priority: 148
          700-7300-0111:
            default:
              default:
                icon: poi--emergency_police
                min_zoom: 17
                priority: 106
          700-7400-0137:
            default:
              default:
                icon: poi--business_laundry
                min_zoom: 19
                priority: 175
          700-7400-0150:
            default:
              default:
                icon: poi--facilities_main
                min_zoom: 17
                priority: 108
          700-7450-0114:
            default:
              default:
                icon: poi--business_post
                min_zoom: 18
                priority: 149
          700-7460-0115:
            default:
              default:
                icon: poi--business_touristinformation
                min_zoom: 18
                priority: 111
          700-7600-0000:
            default:
              default:
                icon: poi--automotive_petrolstation
                min_zoom: 15
                priority: 20
          700-7600-0116:
            default:
              default:
                icon: poi--automotive_petrolstation
                min_zoom: 15
                priority: 21
          700-7600-0322:
            default:
              default:
                icon: poi--automotive_charging
                min_zoom: 15
                priority: 22
          700-7800-0118:
            default:
              default:
                icon: poi--automotive_dealership_car
                min_zoom: 18
                priority: 151
          700-7800-0119:
            default:
              default:
                icon: poi--automotive_dealership_car
                min_zoom: 18
                priority: 152
          700-7850-0000:
            default:
              default:
                icon: poi--automotive_repair_car
                min_zoom: 16
                priority: 66
          700-7850-0121:
            default:
              default:
                icon: poi--automotive_wash_car
                min_zoom: 18
                priority: 150
          700-7850-0122:
            default:
              default:
                icon: poi--automotive_repair_car
                min_zoom: 16
                priority: 67
          700-7851-0117:
            default:
              default:
                icon: poi--automotive_carrental
                min_zoom: 17
                priority: 75
          800-8000-0000:
            default:
              default:
                icon: poi--emergency_hospital
                min_zoom: 15
                priority: 29
          800-8000-0159:
            default:
              default:
                icon: poi--emergency_hospital
                min_zoom: 15
                priority: 30
          800-8100-0000:
            default:
              default:
                icon: poi--facilities_main
                min_zoom: 18
                priority: 153
          800-8100-0163:
            default:
              default:
                icon: poi--facilities_main
                min_zoom: 18
                priority: 154
          800-8100-0168:
            default:
              default:
                icon: poi--facilities_main
                min_zoom: 18
                priority: 155
          800-8100-0170:
            default:
              default:
                icon: poi--facilities_main
                min_zoom: 17
                priority: 110
          800-8100-0172:
            default:
              default:
                icon: poi--facilities_frontiercrossing
                min_zoom: 13
                priority: 6
          800-8200-0000:
            default:
              default:
                icon: poi--facilities_education
                min_zoom: 18
                priority: 156
          800-8200-0173:
            default:
              default:
                icon: poi--facilities_education
                min_zoom: 17
                priority: 104
          800-8200-0174:
            default:
              default:
                icon: poi--facilities_education
                min_zoom: 18
                priority: 157
          800-8300-0175:
            default:
              default:
                icon: poi--facilities_library
                min_zoom: 17
                priority: 105
          800-8400-0000:
            default:
              default:
                icon: poi--facilities_exhibition_center
                min_zoom: 15
                priority: 27
          800-8400-0176:
            default:
              default:
                icon: poi--facilities_exhibition_center
                min_zoom: 15
                priority: 28
          800-8500-0000:
            default:
              default:
                icon: poi--facilities_parking
                min_zoom: 18
                priority: 158
          800-8500-0177:
            default:
              default:
                icon: poi--facilities_parking_garage
                min_zoom: 18
                priority: 159
          800-8500-0178:
            default:
              default:
                icon: poi--facilities_parking
                min_zoom: 18
                priority: 160
          800-8500-0179:
            default:
              default:
                icon: poi--facilities_parknride
                min_zoom: 18
                priority: 161
          800-8500-0315:
            default:
              default:
                icon: poi--facilities_parking
                min_zoom: 18
                priority: 162
          800-8600-0000:
            default:
              default:
                icon: poi--sport_main
                min_zoom: 17
                priority: 82
          800-8600-0180:
            default:
              default:
                icon: poi--sport_main
                min_zoom: 17
                priority: 83
          800-8600-0181:
            default:
              default:
                icon: poi--sport_main
                min_zoom: 18
                priority: 163
          800-8600-0182:
            default:
              default:
                icon: poi--sport_swimming
                min_zoom: 18
                priority: 164
          800-8600-0184:
            default:
              default:
                icon: poi--sport_bowling
                min_zoom: 17
                priority: 109
          800-8600-0191:
            default:
              default:
                icon: poi--sport_fitness
                min_zoom: 18
                priority: 165
          800-8600-0193:
            default:
              default:
                icon: poi--sport_golfcourse
                min_zoom: 15
                priority: 37
          800-8700-0166:
            default:
              default:
                icon: poi--facilities_cemetry
                min_zoom: 19
                priority: 174
          800-8700-0198:
            default:
              default:
                icon: poi--facilities_publictoilet
                min_zoom: 16
                priority: 62
          900-9200-0219:
            default:
              default:
                icon: poi--facilities_harbor
                min_zoom: 15
                priority: 36
textures:
  pois:
    url: ./icons/poi-2x.png
    density: 2
    sprites:
      poi--accommodation_camping:
        - 2
        - 2
        - 64
        - 64
      poi--accommodation_hotel:
        - 70
        - 2
        - 64
        - 64
      poi--accommodation_main:
        - 2
        - 70
        - 64
        - 64
      poi--address:
        - 70
        - 70
        - 64
        - 64
      poi--automotive_carrental:
        - 138
        - 2
        - 64
        - 64
      poi--automotive_charging:
        - 138
        - 70
        - 64
        - 64
      poi--automotive_dealership_car:
        - 2
        - 138
        - 64
        - 64
      poi--automotive_petrolstation:
        - 70
        - 138
        - 64
        - 64
      poi--automotive_repair_car:
        - 138
        - 138
        - 64
        - 64
      poi--automotive_wash_car:
        - 206
        - 2
        - 64
        - 64
      poi--business_atm:
        - 206
        - 70
        - 64
        - 64
      poi--business_laundry:
        - 206
        - 138
        - 64
        - 64
      poi--business_main:
        - 2
        - 206
        - 64
        - 64
      poi--business_post:
        - 70
        - 206
        - 64
        - 64
      poi--business_touristinformation:
        - 138
        - 206
        - 64
        - 64
      poi--connector_airport_access:
        - 206
        - 206
        - 64
        - 64
      poi--connector_elevator:
        - 274
        - 2
        - 64
        - 64
      poi--connector_entrance_access:
        - 274
        - 70
        - 64
        - 64
      poi--connector_escalator:
        - 274
        - 138
        - 64
        - 64
      poi--connector_platform:
        - 274
        - 206
        - 64
        - 64
      poi--connector_ramp:
        - 2
        - 274
        - 64
        - 64
      poi--connector_skywalk:
        - 70
        - 274
        - 64
        - 64
      poi--connector_stairs:
        - 138
        - 274
        - 64
        - 64
      poi--connector_underpath:
        - 206
        - 274
        - 64
        - 64
      poi--eatdrink_cocktail:
        - 274
        - 274
        - 64
        - 64
      poi--eatdrink_coffee:
        - 342
        - 2
        - 64
        - 64
      poi--eatdrink_fastfood:
        - 342
        - 70
        - 64
        - 64
      poi--eatdrink_main:
        - 342
        - 138
        - 64
        - 64
      poi--eatdrink_pub:
        - 342
        - 206
        - 64
        - 64
      poi--emergency_firstaid:
        - 342
        - 274
        - 64
        - 64
      poi--emergency_hospital:
        - 2
        - 342
        - 64
        - 64
      poi--emergency_pharmacy:
        - 70
        - 342
        - 64
        - 64
      poi--emergency_police:
        - 138
        - 342
        - 64
        - 64
      poi--facilities_bank:
        - 206
        - 342
        - 64
        - 64
      poi--facilities_cemetry:
        - 274
        - 342
        - 64
        - 64
      poi--facilities_education:
        - 342
        - 342
        - 64
        - 64
      poi--facilities_exhibition_center:
        - 410
        - 2
        - 64
        - 64
      poi--facilities_frontiercrossing:
        - 410
        - 70
        - 64
        - 64
      poi--facilities_harbor:
        - 410
        - 138
        - 64
        - 64
      poi--facilities_library:
        - 410
        - 206
        - 64
        - 64
      poi--facilities_main:
        - 410
        - 274
        - 64
        - 64
      poi--facilities_parking:
        - 410
        - 342
        - 64
        - 64
      poi--facilities_parking_garage:
        - 2
        - 410
        - 64
        - 64
      poi--facilities_parknride:
        - 70
        - 410
        - 64
        - 64
      poi--facilities_publictoilet:
        - 138
        - 410
        - 64
        - 64
      poi--generic_empty:
        - 206
        - 410
        - 64
        - 64
      poi--goingout_arcadegame:
        - 274
        - 410
        - 64
        - 64
      poi--goingout_casino:
        - 342
        - 410
        - 64
        - 64
      poi--goingout_cinema:
        - 410
        - 410
        - 64
        - 64
      poi--goingout_karaoke:
        - 478
        - 2
        - 64
        - 64
      poi--goingout_main:
        - 478
        - 70
        - 64
        - 64
      poi--goingout_nightclub:
        - 478
        - 138
        - 64
        - 64
      poi--goingout_pool:
        - 478
        - 206
        - 64
        - 64
      poi--leisure_amusement:
        - 478
        - 274
        - 64
        - 64
      poi--leisure_main:
        - 478
        - 342
        - 64
        - 64
      poi--leisure_picnicarea:
        - 478
        - 410
        - 64
        - 64
      poi--leisure_playground:
        - 2
        - 478
        - 64
        - 64
      poi--leisure_zoo:
        - 70
        - 478
        - 64
        - 64
      poi--mountain:
        - 614
        - 342
        - 44
        - 44
      poi--nature_main:
        - 138
        - 478
        - 64
        - 64
      poi--nature_overlook:
        - 206
        - 478
        - 64
        - 64
      poi--religious_main:
        - 274
        - 478
        - 64
        - 64
      poi--service_ticketing:
        - 342
        - 478
        - 64
        - 64
      poi--shopping_books:
        - 410
        - 478
        - 64
        - 64
      poi--shopping_main:
        - 478
        - 478
        - 64
        - 64
      poi--sights_attraction:
        - 546
        - 2
        - 64
        - 64
      poi--sights_gallery:
        - 546
        - 70
        - 64
        - 64
      poi--sights_museum:
        - 546
        - 138
        - 64
        - 64
      poi--sport_bowling:
        - 546
        - 206
        - 64
        - 64
      poi--sport_fitness:
        - 546
        - 274
        - 64
        - 64
      poi--sport_golfcourse:
        - 546
        - 342
        - 64
        - 64
      poi--sport_main:
        - 546
        - 410
        - 64
        - 64
      poi--sport_ski_run:
        - 546
        - 478
        - 64
        - 64
      poi--sport_swimming:
        - 2
        - 546
        - 64
        - 64
      poi--toll_booth:
        - 70
        - 546
        - 64
        - 64
      poi--transport_aerial:
        - 138
        - 546
        - 64
        - 64
      poi--transport_airport:
        - 206
        - 546
        - 64
        - 64
      poi--transport_bus:
        - 274
        - 546
        - 64
        - 64
      poi--transport_ferry:
        - 342
        - 546
        - 64
        - 64
      poi--transport_inclined:
        - 410
        - 546
        - 64
        - 64
      poi--transport_monorail:
        - 478
        - 546
        - 64
        - 64
      poi--transport_rail_citymetro:
        - 546
        - 546
        - 64
        - 64
      poi--transport_rail_light:
        - 614
        - 2
        - 64
        - 64
      poi--transport_rail_regional:
        - 614
        - 70
        - 64
        - 64
      poi--transport_taxi:
        - 614
        - 138
        - 64
        - 64
      poi--transport_train:
        - 614
        - 206
        - 64
        - 64
      poi--venue_icon:
        - 614
        - 274
        - 64
        - 64
styles:
  pois:
    base: points
    blend_order: 1
    draw:
      texture: pois
      size: 16px
layers:
  pois:
    data:
      source: omv
      layer: pois
    default:
      filter:
        all:
          - |
            function() {
              const poi_extra_data = context.sources[$source].config.extra_data.poi;
              const style = global.get_poi_style(feature, 'default', poi_extra_data);
              return style ?
                !style.override_filter || !style.override_filter(feature) :
                false;
            }
          - global.poi_min_zoom_filter
      draw:
        pois:
          visible: global.poi.default.visible
          priority: |
            function() {
              const poi_extra_data = context.sources[$source].config.extra_data.poi;
              return global.priority_offset.pois +
                  global.get_poi_style(feature, 'default', poi_extra_data).priority;
            }
          sprite: |
            function() {
              const poi_extra_data = context.sources[$source].config.extra_data.poi;
              return global.get_poi_style(feature, 'default', poi_extra_data).icon;
            }
          text:
            anchor: top
            text_source: global.ux_language_text_source
            font:
              family: global.text_font_family
              fill: 'rgb(100, 100, 100)'
              size: 12px
              stroke:
                color: 'rgba(240, 246, 247, 0.59)'
                width: 1px
      only_label:
        filter: |
          function() {
            const poi_extra_data = context.sources[$source].config.extra_data.poi;
            return !global.get_poi_style(feature, 'default', poi_extra_data).icon;
          }
        draw:
          text-blend-order:
            visible: global.poi.default.visible
            priority: |
              function() {
                const poi_extra_data = context.sources[$source].config.extra_data.poi;
                return global.priority_offset.pois +
                    global.get_poi_style(feature, 'default', poi_extra_data).priority;
              }
            anchor: center
            text_source: global.ux_language_text_source
            font:
              family: global.text_font_family
              fill: 'rgb(100, 100, 100)'
              size: 12px
              stroke:
                color: 'rgba(240, 246, 247, 0.59)'
                width: 1px
